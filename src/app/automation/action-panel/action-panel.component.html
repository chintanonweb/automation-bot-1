<div class="automation-panel">
    <div class="automation-content">
        <div class="flex absolute right-4">
            <button
                class="bg-gray-200 hover:bg-gray-300 text-gray-600 font-bold h-9 w-9 flex items-center justify-center rounded-full">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M12 2.75C6.89137 2.75 2.75 6.89137 2.75 12C2.75 17.1086 6.89137 21.25 12 21.25C17.1086 21.25 21.25 17.1086 21.25 12C21.25 6.89137 17.1086 2.75 12 2.75ZM1.25 12C1.25 6.06294 6.06294 1.25 12 1.25C17.9371 1.25 22.75 6.06294 22.75 12C22.75 17.9371 17.9371 22.75 12 22.75C6.06294 22.75 1.25 17.9371 1.25 12ZM12 7.75C11.3787 7.75 10.875 8.25368 10.875 8.875C10.875 9.28921 10.5392 9.625 10.125 9.625C9.71079 9.625 9.375 9.28921 9.375 8.875C9.375 7.42525 10.5503 6.25 12 6.25C13.4497 6.25 14.625 7.42525 14.625 8.875C14.625 9.83834 14.1056 10.6796 13.3353 11.1354C13.1385 11.2518 12.9761 11.3789 12.8703 11.5036C12.7675 11.6246 12.75 11.7036 12.75 11.75V13C12.75 13.4142 12.4142 13.75 12 13.75C11.5858 13.75 11.25 13.4142 11.25 13V11.75C11.25 11.2441 11.4715 10.8336 11.7266 10.533C11.9786 10.236 12.2929 10.0092 12.5715 9.84439C12.9044 9.64739 13.125 9.28655 13.125 8.875C13.125 8.25368 12.6213 7.75 12 7.75ZM12 17C12.5523 17 13 16.5523 13 16C13 15.4477 12.5523 15 12 15C11.4477 15 11 15.4477 11 16C11 16.5523 11.4477 17 12 17Z"
                        fill="#80858E" />
                </svg>

            </button>
            <button
                class="bg-gray-200 hover:bg-gray-300 text-gray-600	font-bold h-9 w-9 flex items-center justify-center rounded-full ml-2">
                <svg class="h-6 w-6" width="20" height="20" viewBox="0 0 20 20" fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M9.99967 11.1663L5.91634 15.2497C5.76356 15.4025 5.56912 15.4788 5.33301 15.4788C5.0969 15.4788 4.90245 15.4025 4.74967 15.2497C4.5969 15.0969 4.52051 14.9025 4.52051 14.6663C4.52051 14.4302 4.5969 14.2358 4.74967 14.083L8.83301 9.99967L4.74967 5.91634C4.5969 5.76356 4.52051 5.56912 4.52051 5.33301C4.52051 5.0969 4.5969 4.90245 4.74967 4.74967C4.90245 4.5969 5.0969 4.52051 5.33301 4.52051C5.56912 4.52051 5.76356 4.5969 5.91634 4.74967L9.99967 8.83301L14.083 4.74967C14.2358 4.5969 14.4302 4.52051 14.6663 4.52051C14.9025 4.52051 15.0969 4.5969 15.2497 4.74967C15.4025 4.90245 15.4788 5.0969 15.4788 5.33301C15.4788 5.56912 15.4025 5.76356 15.2497 5.91634L11.1663 9.99967L15.2497 14.083C15.4025 14.2358 15.4788 14.4302 15.4788 14.6663C15.4788 14.9025 15.4025 15.0969 15.2497 15.2497C15.0969 15.4025 14.9025 15.4788 14.6663 15.4788C14.4302 15.4788 14.2358 15.4025 14.083 15.2497L9.99967 11.1663Z"
                        fill="#80858E" />
                </svg>
            </button>
        </div>
        <ng-container *ngIf="currentStep === AutomationStep.SELECT_ELEMENT">
            <h3 class="text-2xl font-bold">Step 1. For loop</h3>
            <p *ngIf="selectedElementsNumber === 0" class="text-base mt-5">Select an element</p>
            <ng-container *ngIf="selectedElementsNumber > 0">
                <p class="text-base mt-5">You've selected {{ selectedElementsNumber }} and we predicted {{
                    predictedElementsNumber }}
                    , {{ selectedElementsNumber + predictedElementsNumber }} element(s) in total. Are these correct
                    elements?</p>
                <div class="flex w-100 justify-end">
                    <button (click)="handleResetClicked()"
                        class="border border-blue-500 text-blue-500 hover:text-white hover:bg-blue-500 font-bold py-2 px-8 rounded">
                        Reset
                    </button>
                    <button (click)="handleApproveSelectionClicked()"
                        class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-8 rounded ml-4">
                        Save
                    </button>
                </div>
            </ng-container>
        </ng-container>

        <ng-container *ngIf="currentStep === AutomationStep.SELECT_ACTION">
            <div class="flex justify-between items-center">
                <h3 class="text-2xl font-bold">Step 2. Choose an child-action on each loop element</h3>
            </div>
            <p class="text-base mt-4 mb-2">Add action you want the bot to do on the page</p>
            <div class="flex">
                <div (click)="applyClassesToElements('button')"
                    class="flex p-4 flex-col w-56 bg-gray-50 items-center rounded-md">
                    <svg class="mb-3" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"
                        fill="none">
                        <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M15.2442 21.952L16.8478 20.3485L20.3485 16.8478L21.952 15.2442C23.5937 13.6026 24.4145 12.7818 24.2207 11.8995C24.0269 11.0173 22.9377 10.616 20.7592 9.81341L13.4936 7.13662C9.14776 5.5355 6.97482 4.73495 5.85488 5.85488C4.73495 6.97482 5.5355 9.14775 7.13661 13.4936L9.8134 20.7592C10.616 22.9377 11.0173 24.0269 11.8995 24.2207C12.7818 24.4145 13.6026 23.5936 15.2442 21.952Z"
                            fill="#805DCA" />
                        <path opacity="0.5"
                            d="M16.8477 20.3493L22.0987 25.6004C22.6424 26.1441 22.9143 26.416 23.2176 26.5416C23.6219 26.7091 24.0762 26.7091 24.4806 26.5416C24.7839 26.416 25.0557 26.1441 25.5994 25.6004C26.1431 25.0567 26.415 24.7849 26.5406 24.4816C26.7081 24.0772 26.7081 23.6229 26.5406 23.2185C26.415 22.9153 26.1431 22.6434 25.5994 22.0997L20.3484 16.8486L16.8477 20.3493Z"
                            fill="#805DCA" />
                    </svg>
                    <h4 class="text-lg">Click a button</h4>
                    <p class="text-sm text-center text-gray-400">allows you to click on a button for each element</p>
                </div>
                <div (click)="applyClassesToElements('input')"
                    class="flex p-4 flex-col w-56 bg-gray-50 items-center rounded-md ml-5">
                    <svg class="mb-3" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"
                        fill="none">
                        <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M10.6667 2.667L10.5789 2.667C9.39692 2.66693 8.3785 2.66687 7.56295 2.77652C6.68893 2.89403 5.85113 3.15902 5.17158 3.83857C4.49203 4.51812 4.22704 5.35592 4.10953 6.22994C3.99988 7.04549 3.99994 8.06391 4 9.24589L4.00001 9.33367V10.6003C4.00001 11.3367 4.59696 11.9337 5.33334 11.9337C6.06972 11.9337 6.66667 11.3367 6.66667 10.6003V9.33367C6.66667 8.03889 6.6695 7.20195 6.75241 6.58527C6.83017 6.00695 6.9557 5.82569 7.0572 5.72419C7.1587 5.62269 7.33996 5.49716 7.91828 5.41941C8.53495 5.3365 9.3719 5.33367 10.6667 5.33367H14.6667H17.3333H21.3333C22.6281 5.33367 23.4651 5.3365 24.0817 5.41941C24.6601 5.49716 24.8413 5.62269 24.9428 5.72419C25.0443 5.82569 25.1698 6.00695 25.2476 6.58527C25.3305 7.20195 25.3333 8.03889 25.3333 9.33367V10.6003C25.3333 11.3367 25.9303 11.9337 26.6667 11.9337C27.4031 11.9337 28 11.3367 28 10.6003L28 9.24592C28.0001 8.06393 28.0001 7.0455 27.8905 6.22994C27.773 5.35592 27.508 4.51812 26.8284 3.83857C26.1489 3.15902 25.3111 2.89403 24.4371 2.77652C23.6215 2.66687 22.6031 2.66693 21.4211 2.667L10.6667 2.667Z"
                            fill="#00AB55" />
                        <path opacity="0.5" d="M17.3337 5.33301H14.667V26.6663H17.3337V5.33301Z" fill="#00AB55" />
                        <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M8 28.0003C8 27.2639 8.59695 26.667 9.33333 26.667H22.6667C23.403 26.667 24 27.2639 24 28.0003C24 28.7367 23.403 29.3337 22.6667 29.3337H9.33333C8.59695 29.3337 8 28.7367 8 28.0003Z"
                            fill="#00AB55" />
                    </svg>
                    <h4 class="text-lg">Input Text</h4>
                    <p class="text-sm text-center text-gray-400">allows you to input text for each element</p>
                </div>
            </div>

            <div *ngIf="showRunBtn" class="flex w-100 justify-end mt-2">
                <button (click)="buttonClickHandler()"
                    class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-8 rounded">
                    Run bot
                </button>
            </div>
        </ng-container>

        <ng-container *ngIf="currentStep === AutomationStep.SELECT_INPUT">
            <h3 class="text-2xl font-bold">Step 3. Click an input field</h3>
            <p class="text-xl mt-5">Enter some text</p>
            <input type="text" [formControl]="populateTextControl" placeholder="Ex: search keyword, description...">
            <div class="flex w-100 justify-end">
                <button (click)="handleResetClicked()"
                    class="border border-blue-500 text-blue-500 hover:text-white hover:bg-blue-500 font-bold py-2 px-8 rounded">
                    Reset
                </button>
                <button (click)="handlePerformPopulateInputClicked()"
                    class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-8 rounded ml-4">
                    Save
                </button>
            </div>
        </ng-container>
    </div>
</div>